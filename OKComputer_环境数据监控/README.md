# 环境数据监控系统

一个功能丰富的环境数据监控展示网页，基于 ThingSpeak 云平台构建，提供实时监控、历史分析、预警系统和数据报告等功能。

## 项目特色

### 🎨 现代化设计
- **极简主义美学**：遵循"少即是多"的设计原则，去除视觉噪音
- **科技与自然融合**：深海蓝与森林绿的配色方案，体现环境监控的专业性
- **响应式设计**：完美适配桌面端和移动端设备

### 📊 强大的数据可视化
- **实时数据监控**：每30秒自动更新，支持数据异常提醒
- **交互式图表**：使用 ECharts.js 实现丰富的图表类型
- **多维度分析**：支持时间范围选择、指标筛选和图表类型切换

### ⚡ 丰富的交互功能
- **智能预警系统**：可配置的阈值设置，支持声音、弹窗和邮件通知
- **数据导出功能**：支持 CSV、JSON、Excel 和 PDF 格式导出
- **报告生成中心**：多种模板选择，一键生成专业报告

### 🛠️ 技术栈
- **前端框架**：原生 HTML5 + CSS3 + JavaScript
- **样式框架**：Tailwind CSS
- **动画库**：Anime.js
- **图表库**：ECharts.js
- **创意编程**：p5.js（粒子背景效果）
- **字体**：Inter（界面字体）+ JetBrains Mono（数据字体）

## 页面结构

### 1. 实时监控主页 (index.html)
- **实时数据面板**：温度、湿度、气压、空气质量实时显示
- **24小时趋势图**：多指标叠加的时间序列图表
- **系统状态监控**：连接状态、更新时间、预警状态
- **详细数据模态框**：点击数据卡片查看详细分析

### 2. 数据分析页面 (analytics.html)
- **高级筛选功能**：时间范围、数据指标、图表类型选择
- **统计分析卡片**：平均值、最大值、最小值等关键指标
- **预警统计**：正常、警告、危险级别的数据统计
- **数据导出功能**：支持多种格式的数据导出

### 3. 预警设置页面 (alerts.html)
- **阈值配置**：滑块设置各指标的上下限阈值
- **通知设置**：声音、弹窗、邮件通知的开关控制
- **预警历史**：完整的预警记录和时间线
- **预警统计**：今日、本周、本月的预警数量统计

### 4. 报告中心页面 (reports.html)
- **报告配置**：时间范围、数据指标、模板选择
- **实时预览**：配置完成后即时生成报告预览
- **多格式导出**：PDF、Excel、CSV、JSON格式支持
- **报告历史**：管理已生成的报告文件

## 数据源

### ThingSpeak 云平台
- **通道ID**: 3092550
- **读取API密钥**: 1JCH60ZZR69R58JN
- **数据字段**:
  - field1: 温度 (°C)
  - field2: 湿度 (%)
  - field3: 温度2 (°C)
  - field4: 气压 (hPa)
  - field5: 空气质量 (AQI)

### 数据更新机制
- **更新频率**：每30秒自动刷新
- **数据缓存**：本地存储减少API调用
- **错误处理**：网络异常时的重试机制

## 预警系统

### 阈值设置
- **温度**：默认 15-35°C（可自定义）
- **湿度**：默认 30-80%（可自定义）
- **气压**：默认 980-1030 hPa（可自定义）
- **空气质量**：默认 <200 AQI（可自定义）

### 通知方式
- **声音提醒**：预警触发时播放提示音
- **弹窗通知**：页面右上角显示预警信息
- **邮件通知**：支持邮件推送（功能开发中）

## 部署说明

### 本地运行
```bash
# 进入项目目录
cd /mnt/okcomputer/output

# 启动HTTP服务器
python3 -m http.server 8000

# 访问网站
# http://localhost:8000
```

### 文件结构
```
/mnt/okcomputer/output/
├── index.html              # 实时监控主页
├── analytics.html          # 数据分析页面
├── alerts.html             # 预警设置页面
├── reports.html            # 报告中心页面
├── main.js                 # 主要JavaScript逻辑
├── resources/              # 资源文件夹
│   ├── hero-bg.png        # 主页背景图
│   ├── sensors-icon.png   # 传感器图标
│   └── data-pattern.png   # 数据背景图案
└── thingspeak_data.json   # 示例数据文件
```

## 浏览器兼容性

- **推荐浏览器**：Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **移动端支持**：iOS Safari 14+, Chrome Mobile 90+
- **功能要求**：支持 ES6+, Fetch API, Local Storage

## 性能优化

- **图片优化**：使用WebP格式，支持懒加载
- **代码分割**：按页面加载必要的JavaScript
- **缓存策略**：静态资源设置合适的缓存头
- **压缩优化**：CSS和JavaScript文件已压缩

## 安全特性

- **HTTPS支持**：建议使用HTTPS协议部署
- **数据验证**：前端数据输入验证和清理
- **XSS防护**：避免直接插入用户输入的HTML
- **CORS处理**：正确处理跨域请求

## 扩展功能

### 计划中功能
- **用户认证**：支持多用户登录和权限管理
- **数据备份**：自动备份历史数据到云端
- **API接口**：提供RESTful API供第三方集成
- **移动端应用**：开发配套的移动应用

### 自定义配置
- **主题切换**：支持浅色/深色主题切换
- **单位设置**：支持摄氏/华氏温度单位切换
- **语言支持**：多语言界面支持
- **自定义图表**：用户可自定义图表样式和布局

## 开发团队

- **项目设计**：遵循现代Web开发最佳实践
- **代码质量**：使用ESLint进行代码检查
- **版本控制**：Git版本管理和协作开发
- **持续集成**：自动化测试和部署流程

## 许可证

本项目采用 MIT 许可证，详情请查看 LICENSE 文件。

---

**基于 ThingSpeak 云平台构建** | **环境数据监控解决方案**